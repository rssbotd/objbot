#!/usr/bin/env python3
# This file is placed in the Public Domain.
# pylint: disable=C0413,W0611


"prompt"


import os
import readline
import sys
import termios


sys.path.insert(0, os.getcwd())


from objx.object  import fmt
from objt.errors  import errors


from objbot.client  import Client, command
from objbot.config  import Config
from objbot.command import Commands
from objbot.default import Default
from objbot.event   import Event
from objbot.main    import wrap
from objbot.modules import face
from objbot.parse   import parse
from objbot.utils   import forever, modnames


Cfg = Config()
Cfg.mod = ",".join(modnames(face))


def main():
    "main"
    parse(Cfg, " ".join(sys.argv[1:]))
    clt = Client()
    if Cfg.txt:
        evt = Event()
        evt.txt = Cfg.otxt
        command(clt, evt)
        for text in evt.result:
            print(text)


if __name__ == "__main__":
    wrap(main)
    errors(print)
